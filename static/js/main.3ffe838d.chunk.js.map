{"version":3,"sources":["profile_template.jpeg","i18n.js","TranslatedString.js","LanguageSelector.js","NavBar.js","ProfileFeeder.js","Gallery.js","RankedResult.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","i18n","use","Backend","initReactI18next","init","lng","backend","loadPath","fallbackLng","debug","ns","defaultNS","keySeparator","interpolation","escapeValue","formatSeparator","react","wait","TranslatedStr","props","useTranslation","t","s","p","concatStr","preStr","str","LanguageSelector","onChange","event","changeLanguage","target","value","type","name","defaultChecked","NavBar","className","href","id","tabIndex","aria-disabled","class","ProfileFeeder","onChangeHandler","checkMimeType","setState","selectedFile","files","loaded","onClickHandler","state","data","FormData","append","axios","post","onUploadProgress","ProgressEvent","total","then","res","console","log","statusText","setUploadedToCompare","handleSwitchChange","prevState","isLive","err","types","x","length","every","getUploadComponent","picture","profile_template","URL","createObjectURL","src","alt","Progress","max","color","Math","round","onClick","getLiveStreamComponent","onTakePhoto","dataUri","handleTakePhoto","imageType","IMAGE_TYPES","JPG","snapshot","bind","this","profileFile","dataURI","byteString","split","indexOf","atob","unescape","mimeString","ia","Uint8Array","i","charCodeAt","Blob","dataURItoBlob","filename","today","Date","y","getFullYear","m","getMonth","d","getDate","h","getHours","mi","getMinutes","getSeconds","getFormattedTime","formdata","profileGate","readOnly","htmlFor","React","Component","GalleryItem","chooseByFileName","item","active","Gallery","gallery","setGalleryToCompare","get","response","map","catch","error","finally","items","RankedResult","getGalleryFilenames","cleanResults","comparisonResultList","uploadedFilename","galleryFilename","execFastComparisons","onClickHandlerFast","registerResultPic","comparisonResultPicPath","comparisonScore","comparisonImgBase64","explaination_text","picPath","score","pic_base64","explaination","galleryFilenames","payload","filesToCompare","sortedTargets","sort","a","b","parseFloat","slice","execComparison","params","cleanProgress","regitsterProgress","sortComparisonResult","text","progressTextList","getResultComponent","textAsButton","displayText","voice","comparisonResult","compareBtn","displayedUploadedFilename","displayedGalleryFilenames","displayedGalleryFilename","pictures","App","fallback","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"8FAAAA,EAAOC,QAAU,ugP,yVCIjBC,IACGC,IAAIC,KACJD,IAAIE,KACJC,KAAK,CACJC,IAAK,QACLC,QAAS,CAEPC,SAAU,oCAEZC,YAAa,KACbC,OAAO,EAEPC,GAAI,CAAC,gBACLC,UAAW,eACXC,cAAc,EACdC,cAAe,CACbC,aAAa,EACbC,gBAAiB,KAEnBC,MAAO,CACLC,MAAM,KAIGjB,EAAf,EAAeA,ICRAkB,EAjBO,SAACC,GAAW,IAAD,EACTC,cAAZC,EADqB,EACrBA,EACJC,GAFyB,EAClBtB,KACH,IACJuB,EAAI,GAOR,OANIJ,EAAMK,YACNF,EAAIH,EAAMK,WAEVL,EAAMM,SACNF,EAAIJ,EAAMM,QAGZ,6BACGF,EAAI,IAAKF,EAAEF,EAAMO,IAAM,UAAY,IAAKJ,ICGlCK,EAfU,WAAO,IAAD,EACTP,cAATpB,GADkB,EACrBqB,EADqB,EAClBrB,MAMX,OACE,yBAAK4B,SALgB,SAACC,GACtB7B,EAAK8B,eAAeD,EAAME,OAAOC,SAK/B,2BAAOC,KAAK,QAAQD,MAAM,KAAKE,KAAK,WAAWC,gBAAc,IAD/D,MAEE,2BAAOF,KAAK,QAAQD,MAAM,QAAQE,KAAK,aAFzC,W,MCcWE,MApBf,WACE,OACE,yBAAKC,UAAU,+CACX,uBAAGA,UAAU,eAAeC,KAAK,KAAI,kBAAC,EAAD,CAAeZ,IAAK,UACzD,yBAAKW,UAAU,2BAA2BE,GAAG,0BACzC,wBAAIF,UAAU,sBACV,wBAAIA,UAAU,YACV,uBAAGA,UAAU,oBAAoBC,KAAK,IAAIE,SAAS,KAAKC,gBAAc,QACrE,kBAAC,EAAD,CAAef,IAAK,SAAUD,OAAQ,YAAaD,UAAW,cAK3E,yBAAKkB,MAAM,4BACX,kBAAC,EAAD,S,mECoMOC,M,YA7Mb,WAAYxB,GAAQ,IAAD,8BACjB,4CAAMA,KAeRyB,gBAAgB,SAAAf,GACX,EAAKgB,cAAchB,IAEpB,EAAKiB,SAAS,CACZC,aAAclB,EAAME,OAAOiB,MAAM,GACjCC,OAAQ,KArBK,EA+BnBC,eAAiB,WACf,GAA+B,OAA5B,EAAKC,MAAMJ,aAAsB,CAClC,IAAMK,EAAO,IAAIC,SACjBD,EAAKE,OAAO,OAAQ,EAAKH,MAAMJ,cAE/BQ,IAAMC,KAAK,UAAWJ,EAAM,CAE1BK,iBAAkB,SAAAC,GAChB,EAAKZ,SAAS,CACZG,OAASS,EAAcT,OAASS,EAAcC,MAAM,SAGvDC,MAAK,SAAAC,GACNC,QAAQC,IAAIF,EAAIG,YAChB,EAAK7C,MAAM8C,qBAAqB,EAAKd,MAAMJ,aAAab,WA7C3C,EAkDnBgC,mBAAqB,WACnB,EAAKpB,UAAS,SAAAqB,GAAS,MAAK,CAC1BC,QAASD,EAAUC,YApDJ,EAuDnBvB,cAAc,SAAChB,GAQb,IANA,IAAImB,EAAQnB,EAAME,OAAOiB,MAErBqB,EAAM,GAELC,EAAQ,CAAC,YAAa,aAAc,YAAa,eAE9CC,EAAI,EAAGA,EAAEvB,EAAMwB,OAAQD,IAEtBD,EAAMG,OAAM,SAAAxC,GAAI,OAAIe,EAAMuB,GAAGtC,OAASA,OAE1CoC,GAAOrB,EAAMuB,GAAGtC,KAAK,gCAI3B,MAAY,KAARoC,IACCxC,EAAME,OAAOC,MAAQ,KACrB8B,QAAQC,IAAIM,IACJ,IA1EK,EAsFnBK,mBAAqB,WACnB,IAAIC,EAAqC,MAA3B,EAAKxB,MAAMJ,aAAuB6B,IAAmBC,IAAIC,gBAAgB,EAAK3B,MAAMJ,cAElG,OAAO,6BACL,yBAAKgC,IAAKJ,EAAStC,UAAU,iBAAiB2C,IAAI,SAClD,0BAAM3C,UAAU,QACd,yBAAKA,UAAU,cACb,2BAAOJ,KAAK,OAAOC,KAAK,OAAOG,UAAU,MAAMT,SAAU,EAAKgB,kBAC9D,kBAACqC,EAAA,EAAD,CAAUC,IAAI,MAAMC,MAAM,UAAUnD,MAAO,EAAKmB,MAAMF,OAAQZ,UAAU,QAAQ+C,KAAKC,MAAM,EAAKlC,MAAMF,OAAO,GAA7G,KACA,4BAAQhB,KAAK,SAASI,UAAU,uBAAuBiD,QAAS,EAAKpC,gBAAgB,kBAAC,EAAD,CAAexB,IAAK,mBA/F9F,EAqGnB6D,uBAAyB,WACvB,OAAO,6BACL,kBAAC,IAAD,CACAC,YAAgB,SAACC,GAAc,EAAKC,gBAAgBD,IACpDE,UAAaC,cAAYC,MAED,MAAvB,EAAK1C,MAAM2C,SAAmB,GAAI,yBAAKzD,UAAU,iBAAiB0C,IAAK,EAAK5B,MAAM2C,aAzGpF,EAAK3C,MAAQ,CACZJ,aAAc,KACdqB,QAAQ,EACR0B,SAAU,MAIZ,EAAKlD,gBAAkB,EAAKA,gBAAgBmD,KAArB,gBACvB,EAAK7C,eAAiB,EAAKA,eAAe6C,KAApB,gBACtB,EAAK7B,mBAAqB,EAAKA,mBAAmB6B,KAAxB,gBAC1B,EAAKrB,mBAAqB,EAAKA,mBAAmBqB,KAAxB,gBAC1B,EAAKR,uBAAyB,EAAKA,uBAAuBQ,KAA5B,gBAbb,E,6EA8GFN,GAAU,IAAD,OAExB3B,QAAQC,IAAI,aACZD,QAAQC,IAAI0B,GACZO,KAAKlD,SAAS,CACZgD,SAAUL,IAEZ,IAAIQ,EAqER,SAAuBC,GAErB,IAAIC,EAEAA,EADAD,EAAQE,MAAM,KAAK,GAAGC,QAAQ,WAAa,EAC9BC,KAAKJ,EAAQE,MAAM,KAAK,IAExBG,SAASL,EAAQE,MAAM,KAAK,IAO7C,IAJA,IAAII,EAAaN,EAAQE,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,GAG5DK,EAAK,IAAIC,WAAWP,EAAW3B,QAC1BmC,EAAI,EAAGA,EAAIR,EAAW3B,OAAQmC,IACnCF,EAAGE,GAAKR,EAAWS,WAAWD,GAGlC,OAAO,IAAIE,KAAK,CAACJ,GAAK,CAACxE,KAAKuE,IAtFRM,CAAcrB,GAC5BsB,EAAW,YAyDnB,WACE,IAAIC,EAAQ,IAAIC,KACZC,EAAIF,EAAMG,cAEVC,EAAIJ,EAAMK,WAAa,EACvBC,EAAIN,EAAMO,UACVC,EAAIR,EAAMS,WACVC,EAAKV,EAAMW,aACXrG,EAAI0F,EAAMY,aACd,OAAOV,EAAI,IAAME,EAAI,IAAME,EAAI,IAAME,EAAI,IAAME,EAAK,IAAMpG,EAlE3BuG,GAAqB,IAAI5B,EAAYhE,KAAKmE,MAAM,KAAK,GAC9E0B,EAAW,IAAIzE,SACnByE,EAASxE,OAAO,OAAO2C,EAAYc,GACnCxD,IAAMC,KAAK,UAAWsE,EAAU,CAE9BrE,iBAAkB,SAAAC,GAChB,EAAKZ,SAAS,CACZG,OAASS,EAAcT,OAASS,EAAcC,MAAM,SAGvDC,MAAK,SAAAC,GACNC,QAAQC,IAAIF,EAAIG,YAChB,EAAK7C,MAAM8C,qBAAqB8C,Q,+BASlC,IAAIgB,EAAc/B,KAAK7C,MAAMiB,OAAS4B,KAAKT,yBAA2BS,KAAKtB,qBAE3E,OACE,6BACI,yBAAKrC,UAAU,gCACb,2BACEJ,KAAK,WACLI,UAAU,uBACVE,GAAG,iBACHX,SAAUoE,KAAK9B,mBACf8D,UAAQ,IAEV,2BAAO3F,UAAU,uBAAuB4F,QAAQ,kBAC9C,kBAAC,EAAD,CAAevG,IAAK,iBAGvBqG,O,GA5JiBG,IAAMC,WCJ5BC,G,wBACJ,WAAYjH,GAAQ,IAAD,8BACf,4CAAMA,KAIV+B,eAAiB,SAAC6D,GAChB,EAAK5F,MAAMkH,iBAAiBtB,IAJ1B,EAAK7D,eAAiB,EAAKA,eAAe6C,KAApB,gBAFP,E,sEAQT,IAAD,OACL,OACE,yBAAKrD,MAAO,wCAAyCsD,KAAK7E,MAAMmH,KAAKC,OAAS,SAAU,KACtF,yBAAKlG,UAAU,cAIT,yBAAKK,MAAM,0BACPqC,IAAK,aAAeiB,KAAK7E,MAAMmH,KAAKvB,SAAU/B,IAAI,kBACtD,yBAAKtC,MAAM,WAET,4BAAQT,KAAK,SAASI,UAAU,gBACxBiD,QAAS,kBAAI,EAAKpC,eAAe,EAAK/B,MAAMmH,KAAKvB,YACxDf,KAAK7E,MAAMmH,KAAKC,OAAS,WAAY,WAGxC,6BAAMvC,KAAK7E,MAAMmH,KAAKvB,gB,GAzBZmB,IAAMC,YAgGjBK,E,YAzDb,WAAYrH,GAAQ,IAAD,8BACjB,4CAAMA,KAwBRkH,iBAAmB,SAACtB,GAElB,IADA,IAAI0B,EAAU,EAAKtF,MAAMsF,QACjB9B,EAAI,EAAGA,EAAI8B,EAAQjE,OAAQmC,IAC7BI,IAAa0B,EAAQ9B,GAAGI,UAC1B0B,EAAQ9B,GAAG4B,QAAUE,EAAQ9B,GAAG4B,OAC5BE,EAAQ9B,GAAG4B,OACb,EAAKpH,MAAMuH,oBAAoB3B,GAE/B,EAAK5F,MAAMuH,oBAAoB,KAGjCD,EAAQ9B,GAAG4B,QAAS,EAGxB,EAAKzF,SAAS,CACZ2F,QAAUA,KAtCZ,EAAKtF,MAAQ,CACXsF,QAAU,IAGZlF,IAAMoF,IAAI,cAAe,IACxB/E,MAAK,SAAAgF,GACJ9E,QAAQC,IAAI6E,GACZ,EAAK9F,SAAS,CACZ2F,QAAUG,EAASxF,KAAKyF,KAAI,SAAC3G,GAAD,MAAS,CACjC6E,SAAU7E,EACVqG,QAAQ,WAIfO,OAAM,SAAUC,GACfjF,QAAQC,IAAIgF,MAEbC,SAAQ,eAGT,EAAKX,iBAAmB,EAAKA,iBAAiBtC,KAAtB,gBAtBP,E,sEA2CV,IAAD,OACAkD,EAAQjD,KAAK7C,MAAMsF,QAAQI,KAAI,SAACP,GAAD,OAAU,kBAAC,EAAD,CAAaA,KAAMA,EAAMD,iBAAkB,EAAKA,sBAC/F,OACE,6BACE,yBAAK3F,MAAM,gCAERuG,Q,GAlDWf,IAAMC,W,yBCyKbe,G,kBA5Mb,WAAY/H,GAAQ,IAAD,8BACf,4CAAMA,KAoBVgI,oBAAsB,WACpB5F,IAAMoF,IAAI,cAAe,IACtB/E,MAAK,SAAAgF,GACJ9E,QAAQC,IAAI6E,GACZ,EAAK9F,SAAS,CACZ2F,QAAUG,EAASxF,KAAKyF,KAAI,SAAC3G,GAAD,MAAS,CACjC6E,SAAU7E,EACVqG,QAAQ,WAIfO,OAAM,SAAUC,GACfjF,QAAQC,IAAIgF,MAEbC,SAAQ,gBAnCM,EAwCnBI,aAAe,WACb,EAAKtG,SAAS,CACZuG,qBAAqB,MA1CN,EA6CnBnG,eAAiB,SAACoG,GAEZA,EAAiB9E,OAAS,IAC5B,EAAK4E,eACD,EAAKjI,MAAMoI,gBAAgB/E,OAAS,EACtC,EAAKgF,oBAAoBF,EAAkB,CAAC,CAAC,SAAW,EAAKnI,MAAMoI,mBAEnE,EAAKC,oBAAoBF,EAAkB,EAAKnG,MAAMsF,WApDzC,EAyDnBgB,mBAAqB,SAACH,GAClB,EAAKF,eACL,EAAKI,oBAAoBF,EAAkB,EAAKnG,MAAMsF,UA3DvC,EA6DnBiB,kBAAoB,SAACC,EAAyBC,EACzBC,EAAqBC,GACxChG,QAAQC,IAAI,wBAA0B+F,GACtC,EAAKhH,SAAS,CACZuG,qBAAqB,GAAD,mBACf,EAAKlG,MAAMkG,sBADI,CAElB,CACEU,QAASJ,EACTK,MAAOJ,EACPK,WAAYJ,EACZK,aAAcJ,QAvEH,EA4EnBN,oBAAsB,SAACF,EAAkBa,GACvC,GAAIb,EAAiB9E,OAAS,EAAE,CAC9B,IAAI4F,EAAU,CACZC,eAAgBF,EAAiBtB,KAAI,SAACP,GAAD,OAASA,EAAKvB,YACnDuC,iBAAkBA,GAEpB/F,IAAMC,KAAK,cAAe4G,GACzBxG,MAAK,SAAAgF,GACJ,IAAI0B,EAAgB1B,EAASxF,KAM7B,OALAkH,EAAgBA,EAAcC,MAAK,SAACC,EAAGC,GAAJ,OACjCC,WAAWD,EAAET,OAASU,WAAWF,EAAER,WACvBW,MAAM,EAAG,GAAG9B,KAAI,SAACP,GAAD,OAC5B,EAAKsC,eAAetB,EAAkBhB,EAAKvB,aAEtCuD,KAERxB,OAAM,SAAUC,GACfjF,QAAQC,IAAIgF,MAEbC,YA/Fc,EAkGnB4B,eAAiB,SAACtB,EAAkBC,GAElChG,IAAMoF,IAAI,cAAe,CACvBkC,OAAQ,CACRvB,iBAAkBA,EAClBC,gBAAiBA,KAGlB3F,MAAK,SAAAgF,GACJ9E,QAAQC,IAAI,iCACZD,QAAQC,IAAI6E,GACZ,IAAIe,EAA0Bf,EAASxF,KAAK,GACxCwG,EAAmBhB,EAASxF,KAAK,GACjCyG,EAAuBjB,EAASxF,KAAK,GACrC8G,EAAetB,EAASxF,KAAK,GAGjC,OAFA,EAAKsG,kBAAkBC,EAAyBC,EACzBC,EAAqBK,GACrCN,KAGRd,OAAM,SAAUC,GACfjF,QAAQC,IAAIgF,MAEbC,SAAQ,SAACgB,GAER,EAAKc,gBACL,EAAKC,mBAAmBf,EAAO,IAAO,mBAAqB,gBAC3D,iBAAmBA,GACnB,EAAKgB,2BA9HU,EAiInBA,qBAAuB,WACrB,EAAKlI,SAAS,CACZuG,qBAAqB,YAChB,EAAKlG,MAAMkG,qBAAqBkB,MAAK,SAACC,EAAGC,GAAJ,OAAUC,WAAWD,EAAET,OAASU,WAAWF,EAAER,aAGzFlG,QAAQC,IAAI,iBACZD,QAAQC,IAAI,EAAKZ,MAAMkG,uBAxIN,EA0InB0B,kBAAoB,SAACE,GACnB,EAAKnI,SAAS,CACZoI,iBAAiB,GAAD,mBACX,EAAK/H,MAAM+H,kBADA,CAEdD,MAGJnH,QAAQC,IAAI,SACZD,QAAQC,IAAI,EAAKZ,MAAM+H,mBAlJN,EAoJnBJ,cAAgB,WAEdhH,QAAQC,IAAI,oBACZ,EAAKjB,SAAS,CACZoI,iBAAiB,KAEnBpH,QAAQC,IAAI,EAAKZ,MAAM+H,mBA1JN,EA4JnBC,mBAAqB,SAAC7C,GACpB,OACA,6BAEE,yBAAKvD,IAAG,gCAA2BuD,EAAK2B,YAAc5H,UAAU,qBAAqB2C,IAAI,kBACzF,uBAAG3C,UAAU,MAAOiG,EAAK0B,MAAO,IAAO,kBAAC,EAAD,CAAetI,IAAK,gBAAiBF,UAAW,iBAAmB8G,EAAK0B,QAAW,kBAAC,EAAD,CAAetI,IAAK,mBAAoBF,UAAW,iBAAmB8G,EAAK0B,SACrM,uBAAG3H,UAAU,MAAM,kBAAC,EAAD,CAAeX,IAAK,cAAeF,UAAW,KAAO8G,EAAK4B,gBAC7E,kBAAC,IAAD,CAAQkB,cAAc,EAAOC,YAAY,uCAAUJ,KAAM3C,EAAK4B,aAAcoB,MAAM,kDAjKlF,EAAKnI,MAAQ,CACX+H,iBAAmB,GACnB7B,qBAAqB,GACrBC,iBAAkB,GAClBiC,iBAAiB,GACjB9C,QAAS,IAEX,EAAKvF,eAAiB,EAAKA,eAAe6C,KAApB,gBACtB,EAAK0D,mBAAqB,EAAKA,mBAAmB1D,KAAxB,gBAC1B,EAAKgF,kBAAoB,EAAKA,kBAAkBhF,KAAvB,gBACzB,EAAK2D,kBAAoB,EAAKA,kBAAkB3D,KAAvB,gBACzB,EAAK+E,cAAgB,EAAKA,cAAc/E,KAAnB,gBACrB,EAAK6E,eAAiB,EAAKA,eAAe7E,KAApB,gBACtB,EAAKyD,oBAAsB,EAAKA,oBAAoBzD,KAAzB,gBAC3B,EAAKoD,oBAAsB,EAAKA,oBAAoBpD,KAAzB,gBAC3B,EAAKiF,qBAAuB,EAAKA,qBAAqBjF,KAA1B,gBAC5B,EAAKqD,aAAe,EAAKA,aAAarD,KAAlB,gBACpB,EAAKoD,sBAnBU,E,sEAsKV,IAAD,OACFqC,EAAa,4BAAQvJ,KAAK,SAASI,UAAU,uBAC7BiD,QAAS,kBAAI,EAAKpC,eAAe,EAAK/B,MAAMmI,oBAC9C,kBAAC,EAAD,CAAe5H,IAAK,gBAMlC+J,GAJiB,4BAAQxJ,KAAK,SAASI,UAAU,uBAC7BiD,QAAS,kBAAI,EAAKmE,mBAAmB,EAAKtI,MAAMmI,oBADnD,YAIWtD,KAAK7E,MAAMmI,iBAAiB9E,OAAS,EAAIwB,KAAK7E,MAAMmI,iBAAmB,QACnGoC,EAA4B1F,KAAK7C,MAAMsF,QAAQjE,OAAS,EAAIwB,KAAK7C,MAAMsF,QAAQI,KAAI,SAAAP,GAAI,OAAEA,EAAKvB,YAAY,OAC1G4E,EAA2B3F,KAAK7E,MAAMoI,gBAAgB/E,OAAS,EAAIwB,KAAK7E,MAAMoI,gBAAkBmC,EAA0B,GAAK,MAEjIE,GADiB5F,KAAK7C,MAAM+H,iBAAiBrC,KAAI,SAACoC,GAAD,OAAQ,2BAAI,OAASA,EAAO,UAClEjF,KAAK7C,MAAMkG,qBAAqBR,KAAI,SAACP,GAAD,OAAQ,EAAK6C,mBAAmB7C,OACjF,OACE,6BACE,yBAAKjG,UAAU,YACb,yBAAKA,UAAU,OACb,uBAAGA,UAAU,MACX,kBAAC,EAAD,CAAeX,IAAK,UAAWF,UAAWiK,EAA4B,MAAQE,IADhF,KAECH,IAKL,yBAAKnJ,UAAU,OACb,yBAAKA,UAAU,OAEZuJ,S,GAnMc1D,IAAMC,YC4ElB0D,G,wBAvEb,WAAY1K,GAAQ,IAAD,8BACjB,4CAAMA,KAQRuH,oBAAsB,SAACxG,GACrB,EAAKY,SAAS,CACZyG,gBAAkBrH,KAXH,EAcnB+B,qBAAuB,SAAC/B,GACtB,EAAKY,SAAS,CACZwG,iBAAmBpH,KAdrB,EAAKiB,MAAQ,CACXoG,gBAAkB,GAClBD,iBAAkB,IAEpB,EAAKZ,oBAAsB,EAAKA,oBAAoB3C,KAAzB,gBANV,E,sEAoBjB,OACE,yBAAK1D,UAAU,OACb,kBAAC,WAAD,CAAUyJ,SAAU,MAClB,4BAAQzJ,UAAU,cAChB,yBAAKA,UAAU,aACb,kBAAC,EAAD,MACA,yBAAKA,UAAU,OACb,yBAAKA,UAAU,YACb,wBAAIK,MAAM,wDAAuD,kBAAC,EAAD,CAAehB,IAAK,YACrF,wBAAIgB,MAAM,cACV,kBAAC,EAAD,CAAeuB,qBAAsB+B,KAAK/B,wBAE5C,yBAAK5B,UAAU,aAEX,wBAAIK,MAAM,wDAAuD,kBAAC,EAAD,CAAehB,IAAK,aACrF,wBAAIgB,MAAM,cACV,kBAAC,EAAD,CAAc4G,iBAAkBtD,KAAK7C,MAAMmG,iBAAkBC,gBAAiBvD,KAAK7C,MAAMoG,kBAGzF,yBAAKlH,UAAU,aACb,wBAAIK,MAAM,wDAAuD,kBAAC,EAAD,CAAehB,IAAK,aACrF,wBAAIgB,MAAM,cACV,kBAAC,EAAD,CAASgG,oBAAqB1C,KAAK0C,iC,GA3CvCR,IAAMC,YCCJ4D,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCVNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SDyH3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM9I,MAAK,SAAA+I,GACjCA,EAAaC,kB","file":"static/js/main.3ffe838d.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBYRXhpZgAATU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABNaADAAQAAAABAAABNQAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/8AAEQgBNQE1AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMAAwICAwICAwMDAwQDAwQFCAUFBAQFCgcHBggMCgwMCwoLCw0OEhANDhEOCwsQFhARExQVFRUMDxcYFhQYEhQVFP/bAEMBAwQEBQQFCQUFCRQNCw0UFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFP/dAAQAFP/aAAwDAQACEQMRAD8A+yKKAcUE5r3TzwoH0zQDignNAAfpiiiigAGO9Bx2oBxS7qAEooJzRQAUUA4oJzQAUp6CkoBxQAUUE5oH0zQAUUH6Yp0UTzOEjRpHPRVXJP5c0N2AbRW9ZeB9avsBbJ4Vx9+Y7QPwPNbtl8Krp3zd3cUS9xECx/kP61k60Fuy1BvocJRXrdj8NdItl/erLdH/AKaNgfktbdt4e0yzAEVhboQOojBP5nmsXiorZGips8LWMuQqgsx7AHNStZToCzwSADqSnFe+x28cIJRFT12gAmsPxR4rtPD0Wx/3ty6nbCvPb+L0FQsQ5PRDdNLdnjB9qSpbu4N3dTTFVVpHLlVGAMnPA/GogcV3La5htsFFBOaB0NAgopc4FITmgBw6UU0dDQegoAdRTaKAHUU2igB1FNooAdRTaKAP/9D7IAzS4waQDNBGK9088D1ooAzQRigAoooAzQAUUu2jbQAlFBGKAM0AFFLto20wEopcc/Wur8O/D291hVmuSbK2PTcPnYew6Cs5TjDcpJvY5VAWYBQSx4AHU10ulfD7VtSAeSNbOIj70xO4j6f416VovhnT9EH+jW4WQDHmtyx/HtWuqiuKeJf2TdU+5x2mfDPTbTD3LPetgZDttT9P8a6iy062sIlS3t44EHQIoH8qt4xRXLKcpbs1SSAUUUH64qCgo7igfXNA6mgCnqs7WmnXMyHDxxO6k9MgV4PeXc99cvPcSGWZzks3+f0r6Ccbhg/qM1xPif4dwX6tPp+22uSclD/q2P8AQ100KkYPUymnLY8uPQULVi+sJ9NuJLe5iaGVDyrD9Qe9V8ZFeotVdHL6g1JS7aQjFAgooAzS7aABaWgDFFAAeoooooAKKKKADOKM5oooARqSnUUAf//R+ygMUYzRRjNe6eeGMUEZowKMYoAAMUYzRRQAYFJtpaKAGkYpVpaMZoGgqeysp9RuUt7aJppn6KoJ/E+g96SysptQuo7a3QvLIcAD+dexeFfCtv4btcL+8uWH7yUjJJ9B7Vz1avJoty4RcjP8L+ArXSBHcXQW5vOuSAUQ/wCyPX3rrkUYpVpT9cV5kpOTuzrSSDApCMClH1zQfripGHeik/Gj8aAFooH1zQfrigAooH1zQfrigAxmkI4pcZ96Q8e1AGTr/h208Q23l3CfOM7JB95T7V5J4h8NXfh252TLvhY/JMoyD/hXuBOarahp8GqWr29zGJYmHKkfqPet6VV03rsZzgmeBYz1oxit7xb4Tl8N3A+ZpbRydkmOnsf8awRXqRkpK6ORprRhQRmiiqENIxRStSUAFFAoNABRRRQAUUUCgAooNFAH/9L7KpGpaK9088RaWiigAo70UUAHeiiigAoPT09/T3ora8IaSNZ163gYZiU+ZJx/CO348D8amTUVdjSud38PvDQ0zTxfToPtdwNwyOUX0/HrXZBuTTEGwACpB1NeNKTnLmZ2xVkGc0GiipKAUUUUAGcUZzRRQAUH6ZoooAB9MUGiigAFFFFABnFJnPvS0H64oAqalYQ6pZy2s6B4pBhgf5/XODXi/iTQZfD2pvbuS8ZG6OQ/xL/j2/Cvch9awvGegDXtGkiVf9Ii/eRHvuHb8elb0ajhKz2M5xUlc8VoowVJByCOMHtRXrehyDT1ooPWjOKBBRRjFFABRRRQAUUUUAFFFFAH/9P7KoxmikavdPPFxiikWloAKKKKACiiihgB/D1r0H4UWuTqM5X+7EpPpzn+lefV6d8Jv+QZe/8AXYf+giubEfAzanudyvelxmiivLOoQjFAGaWigAxig/TNFFABjPajGO1FFAAPpiiiigBGoH0zS0UAA+mKD9M0UUAGM9qMY7UUUAA+mKa9OprnAoA8R8X2S6f4lv4UXbHv3gf7wz/Wseuk+If/ACNl3/up/wCgiubr2afwI4p7gfxpPzoP50Yz7VoQH50h/GlzntSH6YoAKB+NFA+maAA/jQPxoP0xQPpmgBfzo/OkP0xRQB//1PsqigfXNFe6eeFFFFABRRRQAUUUYzTAK9N+FH/ILvf+uw/9BFeYkYr1b4VDHh+5/wCvpv8A0BK5cQ7U7GtL4jshS5AooryzrDINHFFFABkCjOaKKADOKM5oooAKKKKADijiiigAyBRnNFFABnFGQaKKAAUjHFLSHqKAPI/iUoXxMxAAJhTOPxrlK6v4l/8AIzN/1xT+tcpXr0vgRxT3GnrRQetFbEBRQPpmg/TFABRQPpml/CgBKKD9MUD6ZoAKKX8KPwoA/9X7KH0xRRRXunnhRRRQAUUUUAFGcUUUwAHNeq/Cn/kX7n/r6b/0BK8r6jHrXrHwvQL4aLAcvOxP1wB/SuTEfAjWl8R19GM0n4UfhXmHWLjFFJ+FH4UADULR+FKPpigAIzQBiig/TNABRjNJ+FH4UALjFFJ+FH4UADULR+FKPpigAIzQBig/TNJ+FAC0HoaT8KD06UAeR/Ez/kaG/wCuKf1rlK6z4mf8jO3/AFxT+tcnXr0fgRxT+JjT1ooPWitiAooooAKVaSigAPWiiigAooooA//W+yqKKK9088KKKKACiiigAoxmiimAhGBXrfwx/wCRZ64/fv8A0ryQ9K9c+GH/ACLP/bd/6VyYj4DaidaPrmiiivMOoKKKKAA9RTT1pWoWgAWlP1xRRQAD65ooooAKRqWigBFpaRqFoAWg9KKKAAdKD0NFBoA8i+Jn/I0N/wBcU/rXKV1fxL/5GZv+uKf1rlD0r16XwI4p/Exp60AZoorYgCMUUUUAFFFFABRRRQAUUUUAf//X+yqKKK9088KKKKACiiigAoziig9PegBCcivW/hj/AMiz1x+/f+lch4I8IweIvtMtzI6xQkKFiwCTj1r0vQtEg0CyNrbl2jDFsyEE81w4ion7nY6KcWtTSH1zQfrigfTFB/GuA6AH1zQfrigfjQfxoAT8aPxpR+NFAAPrmg/XFFFACfjR+NLRQAn40fjSn8aT86AD8aUfXNA/GigAooP0zR2PGKAA/XFNbp1zS9h1pCM+tAHkfxL48St/1xT+tcqDmvUfFngabxBqpu47lIR5YTaRkmvMp4HtriWKQBZI2KMo7EHBr1qM4yikmcdRNO5CetAOKD1orczAnNFFFABSrSUUAK1JRRQAUUUUAf/Q+ysYooor3TzwooooAKKKKACg/jRRQB6H8J7nK6jD/uOMe+f8K9EHUmvMvhRJt1G+TH3olbP0P/169MUAAA9uK8murTZ2U/hQ6igY7UVgaBjNGMUjUCgBaKQ0lADqKbQMd6AHUU047Uq0ALRSNQKAFxmjGKQ0LQAtFI1C0ALRRQeooAa3BrwTVp1utUvJl+7JM7j6Fif617zKwRGY9AOa+fXIZiR0JyK7cKtWzCtsiM9aKD1or0DmCiiigAoopQcUAJRRRQAUUUUAf//R+ys5ooor3TzwooooAKKKKACjOKKKAOr+Gt0IfEoTvNEyD68N/wCy164v6V4d4UvhpviKxnbhRIEb6N8p/nXt6nIFebiVaZ103oPopFpc4rkNQoozmigAooPUU09aAHUUgOKCc0ALRSLS5xQAUUZzSNQAtFNGO9OGO1ABRQTikzkGgBaQjNKOlBOKAM/Xrj7Lo17MTt2QuQffBxXg46V7J4/vUs/DN1u+9LiNR7k/4Zrxw8celehhVZM5ar1EHU0jUh60AZrtMRVoakIxRQAq0tNooAVqFpKKAHH6ZpPwpKKAP//S+yh9c0UUV7p54UUUUAFFHejvQAUYzRRTAORyDgjnPpXtHgzX01zSI3LZuYgI5QTk7gOv49a8XrovAV81l4mtR5myObMbjOAeOB+eK5q8FOFzSnLlZ7L2NKOlMHCjt7U8dTXkrax2BRRRTAKKKKACiiigAooooAKKKKACiiigAooooAKa+ccU6snxVqLaVoV3cxttlVMIfRicD9TTSu7CehwvxO1sXN7FYROCkP7yTHd8YA/AfzriOg9aV5GldndizsdxY98nrTa9mEeSPKcUnzMaetFLnBpCc1ZID6ZoP0xRRQAD6ZpfwpKAcUAB+mKB9M0E5ooAX8KPwpAcUu6gD//T+yqKKK9088M4ozmiigAooooAKKKKACnwzNbzRyp99GDj8OaZRkik9UF7H0HbSi5t4pV+66hh+PNS1ieDL1L7w3YOmPkiERA9V+X+lbfevEaszvWqCiiikMKKKKACiiigAooooAKKKKACjOKKKADOaKKKAEJxXC/FXUFj0y1tMnzJJPMIHQBR/iRXdN0ryH4i6h9s8RPCPuWyCMe5PJP64/Ct6MeaaM5uyOWAxRRRXrHGAOaRqMZJpcYoARaXvRjNGMUAHeiijGaACkalxiigBFpaMZowKAP/1PsqiiivdPPCiiigAooooAKKKKACjrx3NFFAHoXws1cYudOkbnPmxD1H8X8hXoo6mvA9L1KXSNRgu4Th4mz16juPx6V7hpGpQ6vYw3cDbo5Fz9D3H4V5leDT5u51U5XVi7RRRXKbBRRRQAUUUUAFFFFABRRRQAUUUUAFFFI3WgCrql6mmWE91J9yJC5A747V4NcTtdXEs7nLSMWJJ5yef613/wATtfVlj0qJgcnfOB1x/Cv58/hXng555J7k16WHhZc3c5KkruwUUUV1mQhGKSnDqaRqAEopVpT1FADQM0EYpSMk0mc0AA+maD9MUq0NQAlFKtLQB//V+yqKKK9088KKKKACiiigAooooAKKKKAF9/Tnmuh8HeLH8OXPly5exkPzrnJU/wB4f4VztGN3HrxUzSlFpjTaeh9BW8y3MSSI25GUMp9QamqvaQ/ZrSGL+4ir+QxVgdTXibHf0CiiigAooooAKKKKACiiigAooooAKyfFGqnRNFurxVV3jX5VY8EkgD+da1cv8R/+RVuf99P/AEIVcFeSuJuyPI555Lq4lmmcvLIxZmPUk1HR3or27JbHBuFFFFIBO5oNKOppGoAQY70HHaiigAFBpVoagAWhqFoagBKKKKAP/9b7KoxmiivdPPDGKKKKACiiigAooooAKKKKACrmjxefq9jFn786L/48Kp5xWr4Vh+0+I9OTG7Eyvj6HP9KmbtFjW57igwKdSLSjqa8Q7wooooAKKKKACiiigAooooAKKKKACuX+JBA8LXAJxl06/wC8K6iuQ+KP/ItL/wBd0/rVw+JEy2PJu5ooFFe0cIUUUUANPWinDqaRqAEopVpT1FADR+NB/GnDqaKAGj8aD+NOpGoASilWloA//9f7KoziiivdPPDOaKKKACiiigAooooAKKKM/wCNABXR/D2DzfFVqeCEDvz/ALpH9ateBvB0euNJc3YP2SM7FQEjee/I9OPzr0XTPDemaTN5lraJFKON+CW/M1x1a0UnE3hTbdzU/DFOzQKK846QooooAKKKKACiiigAoooHU0AFFFFABXIfFD/kWv8Atun9a6+q2oWNtqESxXUKzxg7trjIyO+PxqovldxNXR4BnNFd1498HW+mWgv7FPJjVtssY5C56MPTnA/GuF79Me2a9iFT2i5kcLTi7BRRRViExkmgjFIetFACgZoIxSUUAKtLTRQaAHUjUgoNACgZpcCm0UAf/9D7Kooor3TzwoozijOaACiiigAooooAKDQfrirGn2cuo3sNrDzJKwUe3v8Alk0m7IaVz2HwPZraeGbFQMFk8xj6kkn+tb9VtOtUsbK3t0JKRIsaluuAABVmvFk7s7krIKKKKkYUUUUAFFFFABRRRQAUUUUAFFFGcUAFFGc0d6AMvxJB9p0HUI+5gfH1AyP5V4WP0+n+favoOaNZYyrruVhgj1FeGa9pbaPq1zaschG+U+qnlf0Iruw0t0c9VdTPooorvOcTODRupQc0jUAG6jdQtL3oAaTmgHFO70UAJn8KQ/XNOpGoAQHFLuoWloA//9H7Kooor3TzwooooAKKKKACig1o6X4f1HWGItLZ5F6GQgBR+JobS1bsO19DO/pzXc/C7SfNvLjUZAdsI8qMn+8R8x/Afzq5pPwuQfNqNyXbr5cHA+m48/lXcaZp1rpVt9ntIVgiBztXPWuGtWi04xOiFNrUtL3A6UtFFcBuFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFACMM15/8VNJDW9tqKj50Pkv7g5IP4c/nXoNVtQs4L+3aG5jEsTdUYZBq4S5JJkyXMrHgAOc0V6Rqvwtgk3HT7hoGz/q5fmX8COR+tcdq3hXVNHLGe2ZoQcebHhlP9fzr1Y1YT+E5JQcTHxkmlximmitfMgdjNGMU2igB1GM00DNBGKAHYxRTR9M0H6YoAdjNGBTaKAP/0vsqiiivdPPCiiinHV2YMDwM1a02x/tC+jt9+zcQN2M4/lVVvun6itTw3/yG7f8A31qKj5VoXFXPStH+H2laYFLx/bJcZ3TgFc+y9K6iNFRQqgKoGAAMAUi9V+lOWvGlJt6nXFWQtFFFSUFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFI4yP/AK1LQelAHPax4K0rVwS9uIJSc+bB8rZ/ka8u8S6ENAv5LdZzMo5BKbf617c3b615N8Rv+Q3L9BXXRlK9rmE0jk0beucY5oamw/6ofU05q9Poc70Eozmiip6iFWhqFoamALS0i0tAH//Z\"","import i18n from 'i18next'\nimport Backend from 'i18next-xhr-backend'\nimport { initReactI18next } from 'react-i18next'\n\ni18n\n  .use(Backend)\n  .use(initReactI18next)\n  .init({\n    lng: 'zh-TW',\n    backend: {\n      /* translation file path */\n      loadPath: '/assets/i18n/{{ns}}/{{lng}}.json'\n    },\n    fallbackLng: 'en',\n    debug: true,\n    /* can have multiple namespace, in case you want to divide a huge translation into smaller pieces and load them on demand */\n    ns: ['translations'],\n    defaultNS: 'translations',\n    keySeparator: false,\n    interpolation: {\n      escapeValue: false,\n      formatSeparator: ','\n    },\n    react: {\n      wait: true\n    }\n  })\n\nexport default i18n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nconst TranslatedStr = (props) => {\n    const { t, i18n } = useTranslation()\n    let s = \"\";\n    let p = \"\";\n    if (props.concatStr){\n        s = props.concatStr;\n    }\n    if (props.preStr){\n        p = props.preStr;\n    }\n    return (\n      <div>\n        {p + \" \"+ t(props.str + '.label') + \" \"+ s}\n      </div>\n    )\n  }\n\nexport default TranslatedStr","import React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nconst LanguageSelector = () => {\n  const { t, i18n } = useTranslation()\n\n  const changeLanguage = (event) => {\n    i18n.changeLanguage(event.target.value)\n  }\n\n  return (\n    <div onChange={changeLanguage}>\n      <input type=\"radio\" value=\"en\" name=\"language\" defaultChecked /> En\n      <input type=\"radio\" value=\"zh-TW\" name=\"language\"/> zh-TW\n    </div>\n  )\n}\n\nexport default LanguageSelector","import React from 'react';\nimport TranslatedStr from './TranslatedString';\nimport LanguageSelector from './LanguageSelector';\nimport './NavBar.css';\n\nfunction NavBar() {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n        <a className=\"navbar-brand\" href=\"#\"><TranslatedStr str={'demo'}/></a>\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n            <ul className=\"navbar-nav mr-auto\">\n                <li className=\"nav-item\">\n                    <a className=\"nav-link disabled\" href=\"#\" tabIndex=\"-1\" aria-disabled=\"true\">\n                     <TranslatedStr str={'author'} preStr={'R07944011'} concatStr={'CMLAB'}/> \n                    </a>\n                </li>\n            </ul>\n        </div>\n        <div class=\"form-inline my-2 my-lg-0\">\n        <LanguageSelector />\n        </div>\n    </nav>\n  );\n}\n\nexport default NavBar;\n","import React from 'react';\nimport axios from 'axios';\nimport {Progress} from 'reactstrap';\nimport Camera, { IMAGE_TYPES } from 'react-html5-camera-photo';\nimport TranslatedStr from './TranslatedString';\nimport 'react-html5-camera-photo/build/css/index.css';\n// import gakki from './gakki.jpg';\nimport profile_template from './profile_template.jpeg';\n\nclass ProfileFeeder extends React.Component  {\n  constructor(props) {\n    super(props);\n     this.state = { \n      selectedFile: null,\n      isLive: false,\n      snapshot: null,\n      // picture: profile_template, \n                  };\n    //  this.onDrop = this.onDrop.bind(this);\n    this.onChangeHandler = this.onChangeHandler.bind(this);\n    this.onClickHandler = this.onClickHandler.bind(this);\n    this.handleSwitchChange = this.handleSwitchChange.bind(this);\n    this.getUploadComponent = this.getUploadComponent.bind(this);\n    this.getLiveStreamComponent = this.getLiveStreamComponent.bind(this);\n  }\n  \n  onChangeHandler=event=>{\n    if(this.checkMimeType(event)){ \n    // if return true allow to setState\n      this.setState({\n        selectedFile: event.target.files[0],\n        loaded: 0,\n      })\n    }\n    // // console.log(event.target.files[0]);\n    // this.setState({\n    //   selectedFile: event.target.files[0],\n    //   loaded: 0,\n    // })\n  }\n\n  onClickHandler = () => {\n    if(this.state.selectedFile !== null){\n      const data = new FormData();\n      data.append('file', this.state.selectedFile);\n      // axios.post(\"http://localhost:8000/upload\", data, { \n      axios.post(\"/upload\", data, { \n        // receive two    parameter endpoint url ,form data\n        onUploadProgress: ProgressEvent => {\n          this.setState({\n            loaded: (ProgressEvent.loaded / ProgressEvent.total*100),\n          })\n        }\n      }).then(res => { // then print response status\n        console.log(res.statusText)\n        this.props.setUploadedToCompare(this.state.selectedFile.name);\n      })\n    }\n    \n  }\n  handleSwitchChange = () => {\n    this.setState(prevState => ({\n      isLive: !prevState.isLive\n    }));\n  }\n  checkMimeType=(event)=>{\n    //getting file object\n    let files = event.target.files \n    //define message container\n    let err = ''\n    // list allow mime type\n   const types = ['image/png', 'image/jpeg', 'image/gif', 'image/i=jpg']\n    // loop access array\n    for(var x = 0; x<files.length; x++) {\n     // compare file type find doesn't matach\n         if (types.every(type => files[x].type !== type)) {\n         // create error message and assign to container   \n         err += files[x].type+' is not a supported format\\n';\n       }\n     };\n  \n   if (err !== '') { // if message not same old that mean has error \n        event.target.value = null // discard selected file\n        console.log(err)\n         return false; \n    }\n   return true;\n  \n  }\n  // onDrop(pictures, file) {\n  //     console.log(pictures.keys())\n  //     this.setState({\n  //         picture: file,\n  //     });\n  //     console.log(typeof(pictures));\n  // }\n  getUploadComponent = () =>{\n    var picture = this.state.selectedFile == null ? profile_template : URL.createObjectURL(this.state.selectedFile);\n\n    return <div>\n      <img src={picture} className=\"upload-preview\" alt=\"logo\" />\n      <form className=\"mt-3\">\n        <div className=\"form-group\">\n          <input type=\"file\" name=\"file\" className=\"btn\" onChange={this.onChangeHandler}/>\n          <Progress max=\"100\" color=\"success\" value={this.state.loaded} className=\"mt-3\">{Math.round(this.state.loaded,2) }%</Progress>\n          <button type=\"button\" className=\"btn btn-success mt-3\" onClick={this.onClickHandler}><TranslatedStr str={'uploadBtn'}/></button>\n          \n        </div>\n      </form>\n    </div>\n  }\n  getLiveStreamComponent = () =>{\n    return <div>\n      <Camera\n      onTakePhoto = { (dataUri) => { this.handleTakePhoto(dataUri); } }\n      imageType = {IMAGE_TYPES.JPG}\n      />\n      {this.state.snapshot == null ? \"\": <img className=\"upload-preview\" src={this.state.snapshot}/>}\n    </div>\n  };\n  handleTakePhoto (dataUri) {\n    // Do stuff with the photo...\n    console.log('takePhoto');\n    console.log(dataUri);\n    this.setState({\n      snapshot: dataUri\n    })\n    let profileFile = dataURItoBlob(dataUri);\n    let filename = \"livedemo_\" + getFormattedTime() + '.'+profileFile.type.split('/')[1];\n    let formdata = new FormData();\n    formdata.append('file',profileFile,filename);\n    axios.post(\"/upload\", formdata, { \n      // receive two    parameter endpoint url ,form data\n      onUploadProgress: ProgressEvent => {\n        this.setState({\n          loaded: (ProgressEvent.loaded / ProgressEvent.total*100),\n        })\n      }\n    }).then(res => { // then print response status\n      console.log(res.statusText)\n      this.props.setUploadedToCompare(filename);\n    })\n    // this.setState({\n    //   takenPhoto: dataUri.data,\n    //   takenPhotoFileName:  \".png\"\n    // })\n    \n  }\n  render(){\n    var profileGate = this.state.isLive ? this.getLiveStreamComponent() : this.getUploadComponent();\n    // console.log(picture);\n    return (\n      <div>\n          <div className='custom-control custom-switch'>\n            <input\n              type='checkbox'\n              className='custom-control-input'\n              id='customSwitches'\n              onChange={this.handleSwitchChange}\n              readOnly\n            />\n            <label className='custom-control-label' htmlFor='customSwitches'>\n              <TranslatedStr str={'liveStream'}/>\n            </label>\n          </div>\n          {profileGate}\n          \n          {/* <ImageUploader\n                withIcon={false}\n                buttonText='Choose one image and upload it.'\n                onChange={this.onDrop}\n                imgExtension={['.jpg', '.gif', '.png', '.gif']}\n                maxFileSize={5242880}\n                singleImage={true}\n          /> */}\n          {/* <form class=\"mt-3\">\n            <div class=\"form-group\">\n              <input type=\"file\" class=\"form-control-file\" id=\"exampleFormControlFile1\"/>\n            </div>\n          </form>\n          <button type=\"button\" class=\"btn btn-primary\">Upload</button> */}\n      </div>\n    );\n  }\n}\nfunction getFormattedTime() {\n  var today = new Date();\n  var y = today.getFullYear();\n  // JavaScript months are 0-based.\n  var m = today.getMonth() + 1;\n  var d = today.getDate();\n  var h = today.getHours();\n  var mi = today.getMinutes();\n  var s = today.getSeconds();\n  return y + \"-\" + m + \"-\" + d + \"-\" + h + \"-\" + mi + \"-\" + s;\n}\nfunction dataURItoBlob(dataURI) {\n  // convert base64/URLEncoded data component to raw binary data held in a string\n  var byteString;\n  if (dataURI.split(',')[0].indexOf('base64') >= 0)\n      byteString = atob(dataURI.split(',')[1]);\n  else\n      byteString = unescape(dataURI.split(',')[1]);\n\n  // separate out the mime component\n  var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\n  // write the bytes of the string to a typed array\n  var ia = new Uint8Array(byteString.length);\n  for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n  }\n\n  return new Blob([ia], {type:mimeString});\n}\nexport default ProfileFeeder;","import React from 'react';\nimport axios from 'axios';\nimport './Gallery.css';\nimport './Hover.css'\n\nclass GalleryItem extends React.Component {\n  constructor(props) {\n      super(props)\n      this.onClickHandler = this.onClickHandler.bind(this);\n  }\n\n  onClickHandler = (filename)=>{\n    this.props.chooseByFileName(filename);\n  }\n  render() {\n      return (\n        <div class={\"hovereffect col-lg-2 col-md-2 col-6 \"+ (this.props.item.active ? \"chosen\": \"\")}>\n          <div className=\"card h-100\">\n            {/* <a href=\"#\" class=\"d-block mt-2 mb-2 h-100\"> */}\n                {/* <img class=\"img-fluid img-thumbnail\" \n                    src={\"http://localhost:8000/database/\" + this.props.item.filename} alt=\"img not found\"/> */}\n                <img class=\"img-fluid img-thumbnail\" \n                    src={\"/database/\" + this.props.item.filename} alt=\"img not found\"/>\n                <div class=\"overlay\">\n                  {/* <h4>{this.props.item.filename}</h4> */ /*This line is for the filename when hovered over.*/}\n                  <button type=\"button\" className=\"btn info mt-3\" \n                          onClick={()=>this.onClickHandler(this.props.item.filename)}>\n                  {this.props.item.active ? \"Unchoose\": \"Choose\"}\n                  </button>\n                </div>\n                <div>{this.props.item.filename}</div>\n          </div>\n          \n        </div>\n          // <div \n          //     className={this.state.active ? 'your_className': null} \n          //     onClick={this.toggleClass} \n          // >\n          //     <p>{this.props.text}</p>\n          // </div>\n      )\n}\n}\nclass Gallery extends React.Component  {\n  constructor(props) {\n    super(props);\n    this.state = { \n      gallery : [],\n    };\n    // axios.get('http://localhost:8000/image_list', {})\n    axios.get('/image_list', {})\n    .then(response => {\n      console.log(response);\n      this.setState({\n        gallery : response.data.map((name)=>({\n            filename: name,\n            active: false\n        })),\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n    .finally(function () {\n      // always executed\n    });  \n    this.chooseByFileName = this.chooseByFileName.bind(this);\n    // this.onClickHandler = this.onClickHandler.bind(this);\n  }\n  chooseByFileName = (filename) =>{\n    let gallery = this.state.gallery\n    for(let i = 0; i < gallery.length; i++){\n      if (filename === gallery[i].filename){\n        gallery[i].active = !gallery[i].active;\n        if (gallery[i].active){\n          this.props.setGalleryToCompare(filename);\n        }else{\n          this.props.setGalleryToCompare(\"\");\n        }\n      }else{\n        gallery[i].active = false;\n      }\n    }\n    this.setState({\n      gallery : gallery\n    });\n  }\n  render(){\n    const items = this.state.gallery.map((item) => <GalleryItem item={item} chooseByFileName={this.chooseByFileName}/>);\n    return (\n      <div>\n        <div class=\"row text-center text-lg-left\">\n\n          {items}\n        </div>\n      </div>\n    );\n  }\n}\n  \n\nexport default Gallery;","import React from 'react';\nimport axios from 'axios';\nimport Speech from 'react-speech';\nimport TranslatedStr from './TranslatedString';\nimport './RankedResult.css'\n\n\nclass RankedResult extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = { \n        progressTextList : [],\n        comparisonResultList:[],\n        uploadedFilename: \"\",\n        comparisonResult:\"\",\n        gallery: []\n      }; \n      this.onClickHandler = this.onClickHandler.bind(this);\n      this.onClickHandlerFast = this.onClickHandlerFast.bind(this);\n      this.regitsterProgress = this.regitsterProgress.bind(this);\n      this.registerResultPic = this.registerResultPic.bind(this);\n      this.cleanProgress = this.cleanProgress.bind(this);\n      this.execComparison = this.execComparison.bind(this);\n      this.execFastComparisons = this.execFastComparisons.bind(this);\n      this.getGalleryFilenames = this.getGalleryFilenames.bind(this);\n      this.sortComparisonResult = this.sortComparisonResult.bind(this);\n      this.cleanResults = this.cleanResults.bind(this);\n      this.getGalleryFilenames();\n  }\n  getGalleryFilenames = () =>{\n    axios.get('/image_list', {})\n      .then(response => {\n        console.log(response);\n        this.setState({\n          gallery : response.data.map((name)=>({\n              filename: name,\n              active: false\n          })),\n        });\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n      .finally(() =>{\n        // always executed\n        \n      });  \n  }\n  cleanResults = ()=>{\n    this.setState({\n      comparisonResultList:[]\n    })\n  }\n  onClickHandler = (uploadedFilename)=>{\n    \n    if (uploadedFilename.length > 0){\n      this.cleanResults()\n      if (this.props.galleryFilename.length > 0){\n        this.execFastComparisons(uploadedFilename, [{\"filename\":this.props.galleryFilename}]);\n      }else{\n        this.execFastComparisons(uploadedFilename, this.state.gallery);\n      }\n      \n    }\n  }\n  onClickHandlerFast = (uploadedFilename)=>{  \n      this.cleanResults();\n      this.execFastComparisons(uploadedFilename, this.state.gallery);\n  }\n  registerResultPic = (comparisonResultPicPath, comparisonScore, \n                       comparisonImgBase64, explaination_text) =>{\n    console.log(\"In registerResultPic:\" + explaination_text)\n    this.setState({\n      comparisonResultList:[\n        ...this.state.comparisonResultList,\n        {\n          picPath: comparisonResultPicPath,\n          score: comparisonScore,\n          pic_base64: comparisonImgBase64,\n          explaination: explaination_text\n        }\n      ]\n    })\n  }\n  execFastComparisons = (uploadedFilename, galleryFilenames)=>{\n    if (uploadedFilename.length > 0){\n      let payload = {\n        filesToCompare: galleryFilenames.map((item)=> item.filename),\n        uploadedFilename: uploadedFilename\n      }\n      axios.post('/comparison', payload)\n      .then(response => {\n        var sortedTargets = response.data;\n        sortedTargets = sortedTargets.sort((a, b) => \n          parseFloat(b.score) - parseFloat(a.score));\n        sortedTargets.slice(0, 5).map((item) => \n          this.execComparison(uploadedFilename, item.filename)\n        )\n        return sortedTargets;\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n      .finally(); \n    }\n  }\n  execComparison = (uploadedFilename, galleryFilename)=>{\n    // axios.get('http://localhost:8000/comparison', {\n    axios.get('/comparison', {\n      params: {\n      uploadedFilename: uploadedFilename,\n      galleryFilename: galleryFilename\n      }\n    })\n    .then(response => {\n      console.log(\">>>>> In comparison GET......\")\n      console.log(response);\n      let comparisonResultPicPath = response.data[0];\n      let comparisonScore =  response.data[1];\n      let comparisonImgBase64 =  response.data[2];\n      let explaination = response.data[3];\n      this.registerResultPic(comparisonResultPicPath, comparisonScore, \n                             comparisonImgBase64, explaination);\n      return comparisonScore\n      \n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n    .finally((score) => {\n      // always executed\n      this.cleanProgress();\n      this.regitsterProgress((score> 0.24 ? \"The same person!\" : \"Not similar!\") + \n      \", xCos score: \" + score)\n      this.sortComparisonResult();\n    }); \n  }\n  sortComparisonResult = ()=>{\n    this.setState({\n      comparisonResultList:[\n        ...this.state.comparisonResultList.sort((a, b) => parseFloat(b.score) - parseFloat(a.score))\n      ]\n    })\n    console.log(\"After sorting\")\n    console.log(this.state.comparisonResultList)\n  }\n  regitsterProgress = (text) =>{\n    this.setState({\n      progressTextList:[\n        ...this.state.progressTextList,\n        text \n      ]\n    })\n    console.log(\">>>>>\")\n    console.log(this.state.progressTextList)\n  }\n  cleanProgress = () =>{\n    // XXX This function didn't work properly...\n    console.log(\">>>>>. clean....\")\n    this.setState({\n      progressTextList:[]\n    });\n    console.log(this.state.progressTextList)\n  }\n  getResultComponent = (item) => {\n    return(\n    <div>\n      {/* <img src={\"/results/\" + item.picPath} className=\"App-logo img-fluid\" alt=\"no result yet\" /> */}\n      <img src={`data:image/jpg;base64,${item.pic_base64}`} className=\"App-logo img-fluid\" alt=\"no result yet\" />\n      <p className=\"h6\">{(item.score> 0.24 ? <TranslatedStr str={'theSamePerson'} concatStr={\", xCos score: \" + item.score}/> : <TranslatedStr str={'differentPersons'} concatStr={\", xCos score: \" + item.score}/>)}</p>\n      <p className=\"h6\">{<TranslatedStr str={'explanation'} concatStr={\": \" + item.explaination}/> }</p>\n      <Speech textAsButton={true}  displayText=\"中文語音解釋\"  text={item.explaination} voice=\"Google 國語（臺灣）\"/>\n    </div>)\n  }\n  render(){\n    var compareBtn = <button type=\"button\" className=\"btn btn-primary mt-3\" \n                        onClick={()=>this.onClickHandler(this.props.uploadedFilename)}>\n                      <TranslatedStr str={'compareBtn'}/>\n                      </button>\n    var compareBtnFast = <button type=\"button\" className=\"btn btn-primary mt-3\" \n                            onClick={()=>this.onClickHandlerFast(this.props.uploadedFilename)}>\n                         Compare!\n                         </button>\n    var displayedUploadedFilename = this.props.uploadedFilename.length > 0 ? this.props.uploadedFilename : \"----\";\n    var displayedGalleryFilenames = this.state.gallery.length > 0 ? this.state.gallery.map(item=>item.filename) : \"----\";\n    var displayedGalleryFilename = this.props.galleryFilename.length > 0 ? this.props.galleryFilename : displayedGalleryFilenames[0] + \"...\";\n    var progressText = this.state.progressTextList.map((text)=><p>{\">>> \" + text + \"...\"}</p>);\n  var pictures = this.state.comparisonResultList.map((item)=>this.getResultComponent(item));\n    return (\n      <div>\n        <div className=\"row mt-3\">\n          <div className=\"col\">\n            <p className=\"h6\">\n              <TranslatedStr str={'compare'} concatStr={displayedUploadedFilename + \" & \" + displayedGalleryFilename}/> </p>\n            {compareBtn}\n            {/* {compareBtnFast} */}\n            {/* {progressText} */}\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            {/* <img src={\"http://localhost:8000/results/\" + this.state.comparisonResult} className=\"App-logo img-fluid\" alt=\"no result yet\" /> */}\n            {pictures}\n\n          </div>\n         \n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RankedResult;","import React , { Suspense } from 'react';\nimport './i18n'\n\nimport NavBar from './NavBar';\nimport ProfileFeeder from './ProfileFeeder';\nimport Gallery from './Gallery';\nimport RankedResult from './RankedResult';\nimport TranslatedStr from './TranslatedString';\nimport './App.css';\nimport './ProfileFeeder.css'\n\nclass App extends React.Component  {\n  constructor(props) {\n    super(props);\n    this.state = { \n      galleryFilename : \"\",\n      uploadedFilename: \"\"\n    }; \n    this.setGalleryToCompare = this.setGalleryToCompare.bind(this);\n    // this.onClickHandler = this.onClickHandler.bind(this);\n  }\n  setGalleryToCompare = (name) =>{\n    this.setState({\n      galleryFilename : name\n    });\n  }\n  setUploadedToCompare = (name) =>{\n    this.setState({\n      uploadedFilename : name\n    });\n  }\n  render(){\n    return (\n      <div className=\"App\">\n        <Suspense fallback={null}>\n          <header className=\"App-header\">\n            <div className=\"container\">\n              <NavBar />\n              <div className=\"row\" >\n                <div className=\"col-sm-2\">\n                  <h3 class=\"font-weight-light text-center text-lg-left mt-4 mb-0\"><TranslatedStr str={'upload'}/></h3>\n                  <hr class=\"mt-1 mb-1\"/>\n                  <ProfileFeeder setUploadedToCompare={this.setUploadedToCompare}/>\n                </div>\n                <div className=\"col-sm-10\">\n                  {/* <div className=\"row\"> */}\n                    <h3 class=\"font-weight-light text-center text-lg-left mt-4 mb-0\"><TranslatedStr str={'results'}/></h3>\n                    <hr class=\"mt-1 mb-1\"/>\n                    <RankedResult uploadedFilename={this.state.uploadedFilename} galleryFilename={this.state.galleryFilename}/>\n                  {/* </div> */}\n                  {/* <div className=\"row\"> */}\n                    <div className=\"col-sm-12\">\n                      <h3 class=\"font-weight-light text-center text-lg-left mt-4 mb-0\"><TranslatedStr str={'gallery'}/></h3>\n                      <hr class=\"mt-1 mb-1\"/>\n                      <Gallery setGalleryToCompare={this.setGalleryToCompare}/>\n                    </div>\n                  {/* </div> */}\n                </div>\n              </div>\n              \n            </div>\n    \n            {/* <img src={logo} className=\"App-logo\" alt=\"logo\" />\n            <p>\n              Edit <code>src/App.js</code> and save to reload.\n            </p>\n            <a\n              className=\"App-link\"\n              href=\"https://reactjs.org\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Learn React\n            </a> */}\n          </header>\n        </Suspense>\n        \n      </div>\n    );\n  }\n  \n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}